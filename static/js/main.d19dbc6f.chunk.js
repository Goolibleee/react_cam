(this.webpackJsonpbarcode=this.webpackJsonpbarcode||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),o=n(3),i=n.n(o),a=(n(9),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,12)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),o(e),i(e)}))}),u=n(4),s=n(1);var l=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)(),c=Object(r.useState)(),o=Object(u.a)(c,2),i=o[0],a=o[1];Object(r.useEffect)((function(){i&&(e.onScan(i.data),a(null))}),[i]),Object(r.useEffect)((function(){var e=!0;console.log("Set interval");var t=setInterval((function(){e?requestAnimationFrame(d):console.log("Unmounted reader call")}),200);return function(){console.log("Clear interval for reader"),e=!1,clearInterval(t)}}),[]),Object(r.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then((function(e){console.log(e),console.log("TEST");try{t.current.srcObject=e,t.current.setAttribute("playsinline",!0),t.current.play()}catch(n){}}))}),[t,n]);var l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.x,c=t.y,o=t.x1,i=t.y1,a=n.color,u=void 0===a?"black":a,s=n.width,l=void 0===s?1:s;e.beginPath(),e.moveTo(r,c),e.lineTo(o,i),e.strokeStyle=u,e.lineWidth=l,e.stroke()};function d(){if(t&&t.current&&t.current.readyState===t.current.HAVE_ENOUGH_DATA){n.current.height=t.current.videoHeight,n.current.width=t.current.videoWidth;var e=n.current.getContext("2d");e.drawImage(t.current,0,0,n.current.width,n.current.height);e.getImageData(0,0,n.current.width,n.current.height);return l(e,{x:20,y:20,x1:20,y1:100}),l(e,{x:50,y:50,x1:200,y1:100},{color:"red"}),l(e,{x:300,y:250,x1:260,y1:70},{color:"green",width:5}),void l(e,{x:70,y:240,x1:160,y1:120},{color:"blue"})}}return Object(s.jsxs)("div",{children:[Object(s.jsx)("video",{style:{filter:"brightness(100%)"},ref:t}),"Canvas",Object(s.jsx)("canvas",{className:"canvas",ref:n})]})};i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(l,{})}),document.getElementById("root")),a()},9:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.d19dbc6f.chunk.js.map