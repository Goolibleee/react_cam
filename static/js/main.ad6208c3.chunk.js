(this.webpackJsonpbarcode=this.webpackJsonpbarcode||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var o=n(2),c=n.n(o),r=n(11),i=n.n(r),a=(n(17),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),o(e),c(e),r(e),i(e)}))}),s=n(5),l=n(12),d=n.n(l),u=(n(18),n(26)),g=n(3),h={width:640,height:480,facingMode:"user"};var f=function(e){var t=Object(o.useRef)(),n=Object(o.useRef)(),c=Object(o.useRef)(),r=Object(o.useState)(),i=Object(s.a)(r,2),a=i[0],l=i[1];Object(o.useEffect)((function(){a&&(e.onScan(a.data),l(null))}),[a]),Object(o.useEffect)((function(){var e=!0;console.log("Set interval");var t=setInterval((function(){e?requestAnimationFrame(v):console.log("Unmounted reader call")}),2e3);return function(){console.log("Clear interval for reader"),e=!1,clearInterval(t)}}),[]),Object(o.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then((function(e){console.log(e),console.log("TEST");try{t.current.srcObject=e,t.current.setAttribute("playsinline",!0),t.current.play()}catch(n){}}))}),[t,c]);var f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.x,c=t.y,r=t.x1,i=t.y1,a=n.color,s=void 0===a?"black":a,l=n.width,d=void 0===l?1:l;e.beginPath(),e.moveTo(o,c),e.lineTo(r,i),e.strokeStyle=s,e.lineWidth=d,e.stroke()};function v(){c.current.height=480,c.current.width=640;var e=c.current.getContext("2d");console.log("tick");var t=n.current.getScreenshot();Object(u.a)({method:"post",url:"http://10.0.0.68:8080/uploadImage",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},data:{image:t}}),console.log(t),f(e,{x:20,y:20,x1:20,y1:100}),f(e,{x:50,y:50,x1:200,y1:100},{color:"red"}),f(e,{x:300,y:250,x1:260,y1:70},{color:"green",width:5}),f(e,{x:70,y:240,x1:160,y1:120},{color:"blue"}),f(e,{x:0,y:3,x1:640,y1:3},{color:"green",width:5}),f(e,{x:3,y:0,x1:3,y1:480},{color:"green",width:5}),f(e,{x:0,y:477,x1:640,y1:477},{color:"green",width:5}),f(e,{x:637,y:0,x1:637,y1:480},{color:"green",width:5})}return Object(g.jsxs)("div",{children:[Object(g.jsx)("canvas",{id:"canvas",className:"canvas",ref:c}),Object(g.jsx)(d.a,{id:"webcam",ref:n,screenshotFormat:"image/png",width:640,height:480,videoConstraints:h}),Object(g.jsx)("div",{children:"Test"})]})};i.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(f,{})}),document.getElementById("root")),a()}},[[24,1,2]]]);
//# sourceMappingURL=main.ad6208c3.chunk.js.map